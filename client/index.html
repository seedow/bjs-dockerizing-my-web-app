<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Bucharest JS | Dockerizing my webapp</title>
    <link href="src/css/bjs.css" rel="stylesheet" type="text/css"/>
  </head>
  <body>
    <script>

  var ws;

  function initWs(){
    ws = new WebSocket("ws://localhost:8080");
    ws.onmessage = function(event){
      document.getElementById('hits').innerHTML = "HITS: " + event.data;
    }

    ws.onclose = function(){
        //try to reconnect in 5 seconds
        setTimeout(function(){initWs();console.log('reconnecting')}, 200);
    };

  }

  initWs();

      function hit(){
        ws.send("HIT");
      }

    </script>
      <button onclick="hit()">HIT!</button>
      <div id="hits">

      </div>
  </body>
</html>
